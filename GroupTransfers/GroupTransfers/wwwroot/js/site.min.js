function Init(){var n=document.getElementById("tosell");n.addEventListener("input",function(n){CalculateToSell(n)});n=document.getElementById("totransfer");n.addEventListener("input",function(n){CalculateToSell(n)})}function CalculateToSell(n){var i=new RegExp("[0-9]");let t=-1;if(i.test(n.data)||n.data=="."||n.target.value.length>0&&(n.target.value=n.target.value.replace(n.data,"")),t=n.target.value.length>0?parseFloat(n.target.value):0,t>0)n.target.id=="tosell"?document.getElementById("totransfer").value=(t+t*percenComission+fixedCommission).toFixed(2):document.getElementById("tosell").value=((t-fixedCommission)*constTosell).toFixed(2);else t=0,document.getElementById("tosell").value=0,document.getElementById("totransfer").value=0;n.data!="."&&(n.target.value=t)}function Initcurrencyprice(n,t,i,r){var e,f,o,u,s;JSON.parse(n).forEach(function(n){e=document.createElement("tr");e.id=n.prc_id;f=document.createElement("th");f.scope="row";o=document.createTextNode("("+n.prc_bank+")"+n.prc_name);f.appendChild(o);e.appendChild(f);f=document.createElement("td");o=document.createTextNode(n.prc_value);f.appendChild(o);e.appendChild(f);t.appendChild(e);(u==undefined||new Date(n.prc_update)>u)&&(u=new Date(n.prc_update));s=document.createElement("option");s.value=n.prc_value;s.innerText=n.prc_name;r.appendChild(s)});i.innerText="Ultima Actualizacion: "+u.getDate()+"/"+(u.getMonth()+1)+"/"+u.getFullYear()+" "+u.getHours()+":"+u.getMinutes();transferirdivisas()}function InitcurrencyManagerPrice(n,t){JSON.parse(n).forEach(function(n){var i,o,r,s,u,h,f,c,e,l;i=document.createElement("div");i.className="row p-2";i.id="rowManagerPrice"+n.prc_id;o=document.createElement("div");o.className="col-sm";r=document.createElement("input");r.id="bankManagerPrice"+n.prc_id;r.type="text";r.className="form-control";r.value=n.prc_bank;o.appendChild(r);s=document.createElement("div");s.className="col-sm";u=document.createElement("input");u.id="coinManagerPrice"+n.prc_id;u.type="text";u.className="form-control";u.value=n.prc_name;s.appendChild(u);h=document.createElement("div");h.className="col-sm";f=document.createElement("input");f.id="valueManagerPrice"+n.prc_id;f.type="text";f.className="form-control";f.value=n.prc_value;h.appendChild(f);c=document.createElement("div");c.className="col col-lg-2";e=document.createElement("button");e.id="rowManagerPrice"+n.prc_id;e.type="button";e.className="btn btn-danger";l=document.createTextNode("Eliminar");e.appendChild(l);c.appendChild(e);t.appendChild(i);i.appendChild(o);i.appendChild(s);i.appendChild(h);i.appendChild(c)})}function transferirdivisas(){var n=document.getElementById("typemoneda").value,t=document.getElementById("cantidadmoneda").value,i=new RegExp("[0-9]");document.getElementById("transferirdivisas").innerHTML="Bs: "+n*t}function completeRight(n,t,i){return n.length<i?completeRight(n+t,t,i):n}function completeLeft(n,t,i){return n.length<i?completeLeft(t+n,t,i):n}let fixedCommission=.3,percenComission=.054;const constTosell=.94876660341555985;$(document).ready(function(){Init();Initcurrencyprice(document.getElementById("valuescurrencyprice").value,document.getElementById("currencypricetbody"),document.getElementById("lastupdatelable"),document.getElementById("typemoneda"));InitcurrencyManagerPrice(document.getElementById("valuescurrencyprice").value,document.getElementById("managerPrice"))});